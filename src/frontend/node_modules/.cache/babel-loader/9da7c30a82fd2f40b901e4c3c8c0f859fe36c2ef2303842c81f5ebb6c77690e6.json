{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main-container\"\n};\nconst _hoisted_2 = {\n  class: \"box-container box-shadow\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-melon\"\n}, \"문의\", -1);\nconst _hoisted_4 = {\n  class: \"search-container\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"title\",\n  selected: \"\"\n}, \"제목\", -1);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"status\"\n}, \"상태\", -1);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"type\"\n}, \"유형\", -1);\nconst _hoisted_8 = [_hoisted_5, _hoisted_6, _hoisted_7];\nconst _hoisted_9 = {\n  class: \"select-conatiner\"\n};\nconst _hoisted_10 = {\n  key: 0\n};\nconst _hoisted_11 = {\n  key: 1\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"open\"\n}, \"답변 완료\", -1);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"closed\"\n}, \"미답변\", -1);\nconst _hoisted_14 = [_hoisted_12, _hoisted_13];\nconst _hoisted_15 = {\n  key: 2\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"general\"\n}, \"일반\", -1);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"product\"\n}, \"제품\", -1);\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"order\"\n}, \"주문\", -1);\nconst _hoisted_19 = [_hoisted_16, _hoisted_17, _hoisted_18];\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-magnifying-glass\"\n}, null, -1);\nconst _hoisted_21 = [_hoisted_20];\nconst _hoisted_22 = {\n  class: \"line-table\"\n};\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"No\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Type\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Title\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Status\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Date\")])], -1);\nconst _hoisted_24 = {\n  key: 0,\n  class: \"fa-solid fa-image\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchOption = $event)\n  }, _hoisted_8, 512), [[_vModelSelect, $data.searchOption]]), _createElementVNode(\"div\", _hoisted_9, [$data.searchOption === 'title' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.inputSearchQuery = $event),\n    placeholder: \"검색어를 입력하세요\"\n  }, null, 512), [[_vModelText, $data.inputSearchQuery]])])) : $data.searchOption === 'status' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.inputSearchQuery = $event)\n  }, _hoisted_14, 512), [[_vModelSelect, $data.inputSearchQuery]])])) : $data.searchOption === 'type' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.inputSearchQuery = $event)\n  }, _hoisted_19, 512), [[_vModelSelect, $data.inputSearchQuery]])])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"button\", {\n    class: \"icon-button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.searchInquiries && $options.searchInquiries(...args))\n  }, _hoisted_21)]), _createElementVNode(\"table\", _hoisted_22, [_hoisted_23, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredInquiries, inquiry => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: inquiry.inquiryNo\n    }, [_createElementVNode(\"td\", null, _toDisplayString(inquiry.inquiryNo), 1), _createElementVNode(\"td\", null, _toDisplayString(inquiry.inquiryType), 1), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: {\n        name: 'InquiryDetail',\n        params: {\n          id: inquiry.inquiryNo\n        }\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(inquiry.inquiryTitle) + \" \", 1), $options.hasImage(inquiry.inquiryContent) ? (_openBlock(), _createElementBlock(\"i\", _hoisted_24)) : _createCommentVNode(\"\", true)]),\n      _: 2\n    }, 1032, [\"to\"])]), _createElementVNode(\"td\", null, _toDisplayString(inquiry.inquiryStatus), 1), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(inquiry.inquiryDate)), 1)]);\n  }), 128))])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","selected","_hoisted_5","_hoisted_6","_hoisted_7","key","_hoisted_12","_hoisted_13","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","$data","searchOption","_hoisted_8","_hoisted_9","_hoisted_10","type","inputSearchQuery","placeholder","_hoisted_11","_hoisted_14","_hoisted_15","_hoisted_19","_createCommentVNode","onClick","args","$options","searchInquiries","_hoisted_21","_hoisted_22","_hoisted_23","_Fragment","_renderList","filteredInquiries","inquiry","inquiryNo","_toDisplayString","inquiryType","_createVNode","_component_router_link","to","name","params","id","default","_withCtx","_createTextVNode","inquiryTitle","hasImage","inquiryContent","_hoisted_24","_","inquiryStatus","formatDate","inquiryDate"],"sources":["C:\\Users\\woori\\IdeaProjects\\pillgood_v2\\src\\frontend\\src\\views\\InquiryPage.vue"],"sourcesContent":["<template>\n  <div class=\"main-container\">\n    <div class=\"box-container box-shadow\">\n      <h2 class=\"text-melon\">문의</h2>\n\n      <!-- 검색 필드 -->\n      <div class=\"search-container\">\n        <select v-model=\"searchOption\">\n          <option value=\"title\" selected>제목</option>\n          <option value=\"status\">상태</option>\n          <option value=\"type\">유형</option>\n        </select>\n        <div class=\"select-conatiner\">\n        <div v-if=\"searchOption === 'title'\">\n          <input type=\"text\" v-model=\"inputSearchQuery\" placeholder=\"검색어를 입력하세요\" />\n        </div>\n        <div v-else-if=\"searchOption === 'status'\">\n          <select v-model=\"inputSearchQuery\">\n            <option value=\"open\">답변 완료</option>\n            <option value=\"closed\">미답변</option>\n          </select>\n        </div>\n        <div v-else-if=\"searchOption === 'type'\">\n          <select v-model=\"inputSearchQuery\">\n            <option value=\"general\">일반</option>\n            <option value=\"product\">제품</option>\n            <option value=\"order\">주문</option>\n          </select>\n        </div>\n        </div>\n        <button class=\"icon-button\" @click=\"searchInquiries\"><i class=\"fa-solid fa-magnifying-glass\"></i></button>\n      </div>\n\n      <!-- 글쓰기 버튼\n      <div class=\"bttn-container\">\n        <button @click=\"goToInquiryCreate\" class=\"btn btn-green\">글쓰기</button>\n      </div> -->\n\n      <table class=\"line-table\">\n        <thead>\n          <tr>\n            <th>No</th>\n            <th>Type</th>\n            <th>Title</th>\n            <th>Status</th>\n            <th>Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"inquiry in filteredInquiries\" :key=\"inquiry.inquiryNo\">\n            <td>{{ inquiry.inquiryNo }}</td>\n            <td>{{ inquiry.inquiryType }}</td>\n            <td>\n              <router-link :to=\"{ name: 'InquiryDetail', params: { id: inquiry.inquiryNo } }\">\n                {{ inquiry.inquiryTitle }}\n                <i v-if=\"hasImage(inquiry.inquiryContent)\" class=\"fa-solid fa-image\"></i>\n              </router-link>\n            </td>\n            <td>{{ inquiry.inquiryStatus }}</td>\n            <td>{{ formatDate(inquiry.inquiryDate) }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport '../assets/styles.css';\n\nexport default {\n  name: 'InquiryListPage',\n  data() {\n    return {\n      inquiries: [],\n      searchOption: 'title',\n      inputSearchQuery: '',\n      searchQuery: ''\n    };\n  },\n  computed: {\n    filteredInquiries() {\n      if (!this.searchQuery) {\n        return this.inquiries;\n      }\n      return this.inquiries.filter(inquiry => {\n        if (this.searchOption === 'title') {\n          return inquiry.inquiryTitle.includes(this.searchQuery);\n        } else if (this.searchOption === 'status') {\n          return inquiry.inquiryStatus.includes(this.searchQuery);\n        } else if (this.searchOption === 'type') {\n          return inquiry.inquiryType.includes(this.searchQuery);\n        }\n      });\n    }\n  },\n  methods: {\n    async fetchInquiries() {\n      try {\n        const response = await axios.get(`/api/inquiries/list`);\n        console.log(response.data); // 서버 응답 데이터 확인\n        this.inquiries = response.data;\n      } catch (error) {\n        console.error('Error fetching inquiries:', error);\n      }\n    },\n    searchInquiries() {\n      this.searchQuery = this.inputSearchQuery;\n      this.inputSearchQuery = ''; // 검색 버튼 클릭 시 검색어 초기화\n    },\n    formatDate(date) {\n      const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n      return new Date(date).toLocaleDateString(undefined, options);\n    },\n    goToInquiryCreate() {\n      this.$router.push('/inquiries/create');\n    },\n    hasImage(content) {\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(content, 'text/html');\n      const imgTags = doc.querySelectorAll('img');\n      return imgTags.length > 0;\n    }\n  },\n  created() {\n    this.fetchInquiries();\n  }\n};\n</script>\n\n<style scope>\n.icon-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  margin: 5px;\n  font-size: 1em;\n  text-decoration: none;\n  border: none;\n  background: none;\n  cursor: pointer;\n  color: #B4D9A9;\n}\n\n.icon-button:hover {\n  color: #98c387; /* 호버 시 색상 변경 */\n}\n\n.search-container {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n\n.search-container select {\n\twidth: 100px;\n}\n\n.search-container input {\n\twidth: 300px;\n}\n\n.select-conatiner {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.select-conatiner select {\n  width: 300px;\n}\n\n.icon-button {\n\tmargin-left: 10px;\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}