{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport '../assets/styles.css';\nimport TermsContent1 from '@/components/TermsContent1.vue';\nimport TermsContent2 from '@/components/TermsContent2.vue';\nimport { DatePicker } from 'v-calendar';\nexport default {\n  components: {\n    TermsContent1,\n    TermsContent2,\n    'v-date-picker': DatePicker\n  },\n  data() {\n    return {\n      member: {\n        email: '',\n        password: '',\n        name: '',\n        birthdate: '',\n        gender: 'N',\n        phoneNumber: ''\n      },\n      allChecked: false,\n      agree11: false,\n      agree22: false,\n      formVisible: false,\n      errors: {}\n    };\n  },\n  watch: {\n    agree11() {\n      this.updateAllChecked();\n    },\n    agree22() {\n      this.updateAllChecked();\n    }\n  },\n  methods: {\n    checkAllAgreements() {\n      this.agree11 = this.allChecked;\n      this.agree22 = this.allChecked;\n    },\n    updateAllChecked() {\n      this.allChecked = this.agree11 && this.agree22;\n    },\n    validateAgreement() {\n      if (this.agree11 && this.agree22) {\n        this.formVisible = true;\n      } else {\n        alert(\"모든 필수 약관에 동의해야 합니다.\");\n      }\n    },\n    toLogin() {\n      this.$router.push('/login');\n    },\n    validateEmail() {\n      if (!this.member.email.includes('@')) {\n        this.errors.email = '유효한 이메일 주소를 입력하세요.';\n      } else {\n        delete this.errors.email;\n      }\n    },\n    validatePassword() {\n      if (this.member.password.length < 6) {\n        this.errors.password = '비밀번호는 최소 6 자 이상이어야 합니다.';\n      } else {\n        delete this.errors.password;\n      }\n    },\n    validateName() {\n      if (this.member.name.trim() === '') {\n        this.errors.name = '이름을 입력하세요.';\n      } else {\n        delete this.errors.name;\n      }\n    },\n    validateBirthdate() {\n      if (!this.member.birthdate) {\n        this.errors.birthdate = '생년월일을 선택하세요.';\n      } else {\n        delete this.errors.birthdate;\n      }\n    },\n    validateGender() {\n      if (this.member.gender === 'N') {\n        this.errors.gender = '성별을 선택하세요.';\n      } else {\n        delete this.errors.gender;\n      }\n    },\n    validatePhoneNumber() {\n      if (this.member.phoneNumber.length <= 10) {\n        this.errors.phoneNumber = '유효한 전화번호를 입력하세요.';\n      } else {\n        delete this.errors.phoneNumber;\n      }\n    },\n    calculateAge(birthdate) {\n      const today = new Date();\n      const birthDate = new Date(birthdate);\n      let age = today.getFullYear() - birthDate.getFullYear();\n      const monthDifference = today.getMonth() - birthDate.getMonth();\n      if (monthDifference < 0 || monthDifference === 0 && today.getDate() < birthDate.getDate()) {\n        age--;\n      }\n      return age;\n    },\n    createMember() {\n      this.validateEmail();\n      this.validatePassword();\n      this.validateName();\n      this.validateBirthdate();\n      this.validateGender();\n      this.validatePhoneNumber();\n      console.log('Errors:', this.errors);\n      if (Object.keys(this.errors).length === 0) {\n        this.member.age = this.calculateAge(this.member.birthdate);\n        console.log('Sending request to server...');\n        axios.post('/api/members/register', this.member).then(response => {\n          console.log('Server response:', response.data);\n          alert('회원 가입이 완료되었습니다.');\n          this.$router.push('/login');\n        }).catch(error => {\n          console.error('Error during registration:', error);\n          alert('회원 가입에 실패했습니다.');\n        });\n      } else {\n        alert('폼을 올바르게 작성하세요.');\n      }\n    },\n    cancelRegistration() {\n      this.member = {\n        email: '',\n        password: '',\n        name: '',\n        birthdate: '',\n        gender: 'N',\n        phoneNumber: ''\n      };\n      this.errors = {};\n    }\n  }\n};","map":{"version":3,"names":["axios","TermsContent1","TermsContent2","DatePicker","components","data","member","email","password","name","birthdate","gender","phoneNumber","allChecked","agree11","agree22","formVisible","errors","watch","updateAllChecked","methods","checkAllAgreements","validateAgreement","alert","toLogin","$router","push","validateEmail","includes","validatePassword","length","validateName","trim","validateBirthdate","validateGender","validatePhoneNumber","calculateAge","today","Date","birthDate","age","getFullYear","monthDifference","getMonth","getDate","createMember","console","log","Object","keys","post","then","response","catch","error","cancelRegistration"],"sources":["C:\\Users\\woori\\IdeaProjects\\pillgood_v2\\src\\frontend\\src\\views\\RegisterMember.vue"],"sourcesContent":["<template>\n  <!-- 약관동의 -->\n  <div v-if=\"!formVisible\" id=\"register_agree\" class=\"main-container box-container-no-shade\">\n    <h4 class=\"text-melon\">약관 동의</h4>\n    <form id=\"agreementfrm\" @submit.prevent=\"validateAgreement\">\n      <div id=\"fregister_chkall\" class=\"check-container\">\n        <input type=\"checkbox\" v-model=\"allChecked\" @change=\"checkAllAgreements\" id=\"chk_all\">\n        <label for=\"chk_all\">회원가입 약관에 모두 동의합니다</label>\n      </div>\n      <hr style=\"color: gray; width: 400px; margin: 0 auto;\">\n      <section id=\"fregister_term\">\n        <div id=\"fregister_agree2\" class=\"check-container\">\n          <input type=\"checkbox\" v-model=\"agree11\" id=\"agree11\">\n          <label for=\"agree11\">이용약관 동의(필수)</label>\n        </div>\n        <TermsContent1/>\n      </section>\n      <section id=\"fregister_private\">\n        <div id=\"fregister_agree2\" class=\"check-container\">\n          <input type=\"checkbox\" v-model=\"agree22\" id=\"agree22\">\n          <label for=\"agree22\">개인정보 수집 이용 동의(필수)</label>\n        </div>\n        <TermsContent2/>\n      </section>\n      <div class=\"btn-container\">\n        <button type=\"button\" class=\"btn btn-gray\" @click=\"toLogin\">돌아가기</button>\n        <button type=\"submit\" class=\"btn btn-green\">다음으로</button>\n      </div>\n    </form>\n  </div>\n  <!-- 회원가입 -->\n  <div class=\"main-container\">\n  <div class=\"box-container-no-shade\" v-if=\"formVisible\">\n    <h4 class=\"text-melon\">기본 정보</h4>\n    <form @submit.prevent=\"createMember\" id=\"createMemberfrm\">\n      <table class=\"line-table\">\n        <tr>\n          <td><label for=\"email\">이메일</label></td>\n          <td>\n            <input type=\"email\" v-model=\"member.email\" @blur=\"validateEmail\" required />\n            <p v-if=\"errors.email\" class=\"text-danger\">{{ errors.email }}</p>\n          </td>\n        </tr>\n        <tr>\n          <td><label for=\"password\">비밀번호</label></td>\n          <td>\n            <input type=\"password\" v-model=\"member.password\" @blur=\"validatePassword\" required />\n            <p v-if=\"errors.password\" class=\"text-danger\">{{ errors.password }}</p>\n          </td>\n        </tr>\n        <tr>\n          <td><label for=\"name\">이름</label></td>\n          <td>\n            <input type=\"text\" v-model=\"member.name\" @blur=\"validateName\" required />\n            <p v-if=\"errors.name\" class=\"text-danger\">{{ errors.name }}</p>\n          </td>\n        </tr>\n        <tr>\n          <td><label for=\"birthdate\">생년월일</label></td>\n          <td>\n            <v-date-picker v-model=\"member.birthdate\" @change=\"validateBirthdate\" required />\n            <p v-if=\"errors.birthdate\" class=\"text-danger\">{{ errors.birthdate }}</p>\n          </td>\n        </tr>\n        <tr>\n          <td><label for=\"gender\">성별</label></td>\n          <td>\n            <select v-model=\"member.gender\" @change=\"validateGender\" required>\n              <option value=\"N\">성별을 선택하세요</option>\n              <option value=\"M\">남자</option>\n              <option value=\"F\">여자</option>\n            </select>\n            <span v-if=\"errors.gender\" class=\"text-danger\">{{ errors.gender }}</span>\n          </td>\n        </tr>\n        <tr>\n          <td><label for=\"phoneNumber\">전화번호</label></td>\n          <td>\n            <input type=\"text\" v-model=\"member.phoneNumber\" @blur=\"validatePhoneNumber\" required />\n            <span v-if=\"errors.phoneNumber\" class=\"text-danger\">{{ errors.phoneNumber }}</span>\n          </td>\n        </tr>\n      </table>\n      <div class=\"btn-container\">\n        <button type=\"submit\" class=\"btn btn-green\">회원 가입</button>\n        <button type=\"button\" class=\"btn btn-gray\" @click=\"cancelRegistration\">취소</button>\n      </div>\n    </form>\n  </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport '../assets/styles.css';\nimport TermsContent1 from '@/components/TermsContent1.vue';\nimport TermsContent2 from '@/components/TermsContent2.vue';\nimport { DatePicker } from 'v-calendar';\n\nexport default {\n  components: {\n    TermsContent1,\n    TermsContent2,\n    'v-date-picker': DatePicker\n  },\n  data() {\n    return {\n      member: {\n        email: '',\n        password: '',\n        name: '',\n        birthdate: '',\n        gender: 'N',\n        phoneNumber: '',\n      },\n      allChecked: false,\n      agree11: false,\n      agree22: false,\n      formVisible: false,\n      errors: {},\n    }\n  },\n  watch: {\n    agree11() {\n      this.updateAllChecked();\n    },\n    agree22() {\n      this.updateAllChecked();\n    }\n  },\n  methods: {\n    checkAllAgreements() {\n      this.agree11 = this.allChecked;\n      this.agree22 = this.allChecked;\n    },\n    updateAllChecked() {\n      this.allChecked = this.agree11 && this.agree22;\n    },\n    validateAgreement() {\n      if (this.agree11 && this.agree22) {\n        this.formVisible = true;\n      } else {\n        alert(\"모든 필수 약관에 동의해야 합니다.\");\n      }\n    },\n    toLogin() {\n      this.$router.push('/login');\n    },\n    validateEmail() {\n      if (!this.member.email.includes('@')) {\n        this.errors.email = '유효한 이메일 주소를 입력하세요.';\n      } else {\n        delete this.errors.email;\n      }\n    },\n    validatePassword() {\n      if (this.member.password.length < 6) {\n        this.errors.password = '비밀번호는 최소 6 자 이상이어야 합니다.';\n      } else {\n        delete this.errors.password;\n      }\n    },\n    validateName() {\n      if (this.member.name.trim() === '') {\n        this.errors.name = '이름을 입력하세요.';\n      } else {\n        delete this.errors.name;\n      }\n    },\n    validateBirthdate() {\n      if (!this.member.birthdate) {\n        this.errors.birthdate = '생년월일을 선택하세요.';\n      } else {\n        delete this.errors.birthdate;\n      }\n    },\n    validateGender() {\n      if (this.member.gender === 'N') {\n        this.errors.gender = '성별을 선택하세요.';\n      } else {\n        delete this.errors.gender;\n      }\n    },\n    validatePhoneNumber() {\n      if (this.member.phoneNumber.length <= 10) {\n        this.errors.phoneNumber = '유효한 전화번호를 입력하세요.';\n      } else {\n        delete this.errors.phoneNumber;\n      }\n    },\n    calculateAge(birthdate) {\n      const today = new Date();\n      const birthDate = new Date(birthdate);\n      let age = today.getFullYear() - birthDate.getFullYear();\n      const monthDifference = today.getMonth() - birthDate.getMonth();\n      if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate())) {\n        age--;\n      }\n      return age;\n    },\n    createMember() {\n      this.validateEmail();\n      this.validatePassword();\n      this.validateName();\n      this.validateBirthdate();\n      this.validateGender();\n      this.validatePhoneNumber();\n      console.log('Errors:', this.errors);\n      if (Object.keys(this.errors).length === 0) {\n        this.member.age = this.calculateAge(this.member.birthdate);\n        console.log('Sending request to server...');\n        axios\n          .post('/api/members/register', this.member)\n          .then(response => {\n            console.log('Server response:', response.data);\n            alert('회원 가입이 완료되었습니다.');\n            this.$router.push('/login');\n          })\n          .catch(error => {\n            console.error('Error during registration:', error);\n            alert('회원 가입에 실패했습니다.');\n          });\n      } else {\n        alert('폼을 올바르게 작성하세요.');\n      }\n    },\n    cancelRegistration() {\n      this.member = {\n        email: '',\n        password: '',\n        name: '',\n        birthdate: '',\n        gender: 'N',\n        phoneNumber: '',\n      };\n      this.errors = {};\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .line-table {\n  width: 100%;\n  border-collapse: collapse;\n  }\n\n  .line-table td, tr, th {\n    border: none;\n  }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}