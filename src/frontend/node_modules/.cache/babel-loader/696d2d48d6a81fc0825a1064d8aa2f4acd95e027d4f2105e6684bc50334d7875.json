{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-93a1a3b8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"main-container\"\n};\nconst _hoisted_2 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_3 = {\n  class: \"product-main\"\n};\nconst _hoisted_4 = {\n  class: \"product-image\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"product-info\",\n  style: {\n    \"justify-content\": \"space-around\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"box-container-no-shade\"\n};\nconst _hoisted_8 = {\n  class: \"product-title\"\n};\nconst _hoisted_9 = {\n  class: \"product-price\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" 예시 설명 텍스트 예시 설명 텍스트 \", -1));\nconst _hoisted_11 = {\n  class: \"quantity-selector\"\n};\nconst _hoisted_12 = {\n  class: \"btn-container\",\n  style: {\n    \"align-item\": \"center\",\n    \"justify-content\": \"end\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"tabs\"\n};\nconst _hoisted_14 = {\n  class: \"tab-content\"\n};\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = {\n  key: 1\n};\nconst _hoisted_18 = {\n  key: 2\n};\nconst _hoisted_19 = {\n  key: 3\n};\nconst _hoisted_20 = {\n  key: 4\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ReviewView = _resolveComponent(\"ReviewView\");\n  const _component_InquiryInfo = _resolveComponent(\"InquiryInfo\");\n  const _component_SRCInfo = _resolveComponent(\"SRCInfo\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, \"카테고리 > [브랜드명] \" + _toDisplayString($data.product.productName), 1)]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $data.product.productImages[0] || '../assets/product_01.png',\n    alt: \"Product Image\"\n  }, null, 8, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", _hoisted_8, _toDisplayString($data.product.productName), 1), _createElementVNode(\"p\", _hoisted_9, _toDisplayString($data.product.price) + \"원\", 1), _createElementVNode(\"p\", null, _toDisplayString($data.product.description), 1), _hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.decreaseQuantity && $options.decreaseQuantity(...args))\n  }, \"-\"), _createElementVNode(\"span\", null, _toDisplayString($data.quantity), 1), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.increaseQuantity && $options.increaseQuantity(...args))\n  }, \"+\")]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addToCart && $options.addToCart(...args)),\n    class: \"btn btn-gray\"\n  }, \"장바구니 담기\"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.buyNow && $options.buyNow(...args)),\n    class: \"btn btn-green\"\n  }, \"바로 구매\")])])])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $data.activeTab = 'description'),\n    class: _normalizeClass({\n      active: $data.activeTab === 'description'\n    })\n  }, \"상품설명\", 2), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $data.activeTab = 'reviews'),\n    class: _normalizeClass({\n      active: $data.activeTab === 'reviews'\n    })\n  }, \"후기\", 2), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = $event => $data.activeTab = 'inquiryinfo'),\n    class: _normalizeClass({\n      active: $data.activeTab === 'inquiryinfo'\n    })\n  }, \"문의\", 2), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = $event => $data.activeTab = 'scrinfo'),\n    class: _normalizeClass({\n      active: $data.activeTab === 'scrinfo'\n    })\n  }, \"배송/취소/환불\", 2)]), _createElementVNode(\"div\", _hoisted_14, [$data.activeTab === 'description' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"p\", null, _toDisplayString($data.product.fullDescription), 1), _createElementVNode(\"img\", {\n    src: $data.product.productImages[1] || '../assets/product_01.png',\n    alt: \"Second Product Image\",\n    style: {\n      \"width\": \"100%\"\n    }\n  }, null, 8, _hoisted_16)])) : _createCommentVNode(\"\", true), $data.activeTab === 'details' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"p\", null, _toDisplayString($data.product.details), 1)])) : _createCommentVNode(\"\", true), $data.activeTab === 'reviews' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createVNode(_component_ReviewView, {\n    productId: $data.product.productId\n  }, null, 8, [\"productId\"])])) : _createCommentVNode(\"\", true), $data.activeTab === 'inquiryinfo' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createVNode(_component_InquiryInfo)])) : _createCommentVNode(\"\", true), $data.activeTab === 'scrinfo' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createVNode(_component_SRCInfo)])) : _createCommentVNode(\"\", true)])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","key","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$data","product","productName","_hoisted_3","_hoisted_4","src","productImages","alt","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","price","description","_hoisted_10","_hoisted_11","onClick","_cache","args","$options","decreaseQuantity","quantity","increaseQuantity","_hoisted_12","addToCart","buyNow","_hoisted_13","$event","activeTab","_normalizeClass","active","_hoisted_14","_hoisted_15","fullDescription","_hoisted_16","_createCommentVNode","_hoisted_17","details","_hoisted_18","_createVNode","_component_ReviewView","productId","_hoisted_19","_component_InquiryInfo","_hoisted_20","_component_SRCInfo"],"sources":["C:\\Users\\woori\\IdeaProjects\\pillgood_v2\\src\\frontend\\src\\views\\ProductDetail.vue"],"sourcesContent":["<template>\n  <div class=\"main-container\">\n    <div class=\"breadcrumb\">\n      <p>카테고리 > [브랜드명] {{ product.productName }}</p>\n    </div>\n    <div class=\"product-main\">\n      <div class=\"product-image\">\n        <img :src=\"product.productImages[0] || '../assets/product_01.png'\" alt=\"Product Image\" />\n      </div>\n      <div class=\"product-info\" style=\"justify-content: space-around;\">\n        <div class=\"box-container-no-shade\">\n          <h1 class=\"product-title\">{{ product.productName }}</h1>\n          <p class=\"product-price\">{{ product.price }}원</p>\n          <p>{{ product.description }}</p>\n          <p> 예시 설명 텍스트 예시 설명 텍스트 </p>\n\n          <div class=\"quantity-selector\">\n            <button @click=\"decreaseQuantity\">-</button>\n            <span>{{ quantity }}</span>\n            <button @click=\"increaseQuantity\">+</button>\n          </div>\n\n          <!-- 버튼 -->\n          <div class=\"btn-container\" style=\"align-item: center; justify-content: end;\">\n            <button @click=\"addToCart\" class=\"btn btn-gray\">장바구니 담기</button>\n            <button @click=\"buyNow\" class=\"btn btn-green\">바로 구매</button>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n    <div class=\"tabs\">\n      <button @click=\"activeTab = 'description'\" :class=\"{ active: activeTab === 'description' }\">상품설명</button>\n      <button @click=\"activeTab = 'reviews'\" :class=\"{ active: activeTab === 'reviews' }\">후기</button>\n      <button @click=\"activeTab = 'inquiryinfo'\" :class=\"{ active: activeTab === 'inquiryinfo' }\">문의</button>\n      <button @click=\"activeTab = 'scrinfo'\" :class=\"{ active: activeTab === 'scrinfo' }\">배송/취소/환불</button>\n    </div>\n    <!-- 탭 내용 -->\n    <div class=\"tab-content\">\n\n      <div v-if=\"activeTab === 'description'\">\n        <p>{{ product.fullDescription }}</p>\n        <img :src=\"product.productImages[1] || '../assets/product_01.png'\" alt=\"Second Product Image\" style=\"width: 100%;\"/>\n      </div>\n\n      <div v-if=\"activeTab === 'details'\">\n        <p>{{ product.details }}</p>\n      </div>\n\n      <div v-if=\"activeTab === 'reviews'\">\n        <ReviewView :productId=\"product.productId\" /> \n      </div>\n\n      <div v-if=\"activeTab === 'inquiryinfo'\">\n        <InquiryInfo /> \n      </div>\n\n      <div v-if=\"activeTab === 'scrinfo'\">\n        <SRCInfo /> \n      </div>\n\n    </div>\n    <!-- 탭 끝 -->\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport '../assets/styles.css';\nimport ReviewView from '../components/ReviewView.vue'; // ReviewView 컴포넌트 불러오기\nimport InquiryInfo from '../components/InquiryInfo.vue'; // 문의 안내 컴포넌트\nimport SRCInfo from '../components/SRCInfo.vue'; // 배송 취소 환불 안내 컴포넌트\n\nexport default {\n  components: {\n    ReviewView, // 컴포넌트 등록\n    InquiryInfo,\n    SRCInfo\n  },\n  props: ['id'],\n  data() {\n    return {\n      activeTab: 'description',\n      product: {\n        productId: 0,\n        productName: '',\n        price: 0,\n        productImages: [],\n        description: '',\n        fullDescription: '',\n        details: '',\n      },\n      quantity: 1 // 초기 수량 설정\n    };\n  },\n  methods: {\n    async fetchProductDetails() {\n      try {\n        const response = await axios.get(`/api/products/detail/${this.id}`);\n        this.product = response.data;\n        this.product.productImages = this.extractImages(response.data.productImage);\n        console.log('Product images:', this.product.productImages);\n      } catch (error) {\n        console.error('Error fetching product details:', error);\n      }\n    },\n    extractImages(htmlString) {\n      const regex = /<img[^>]+src=\"([^\">]+)\"/g;\n      const matches = [];\n      let match;\n      while ((match = regex.exec(htmlString)) !== null) {\n        matches.push(match[1]);\n      }\n      console.log('Extracted image URLs:', matches);\n      return matches;\n    },\n    decreaseQuantity() {\n      if (this.quantity > 1) {\n        this.quantity--;\n      }\n    },\n    increaseQuantity() {\n      this.quantity++;\n    },\n    async addToCart() {\n      try {\n        const cartItem = {\n          productId: this.product.productId, // 여기에서 this.product.productId를 사용합니다.\n          productQuantity: this.quantity // 선택한 수량을 보냄\n        };\n        const response = await axios.post('/api/carts/create', cartItem, { withCredentials: true });\n        if (response.status === 201) {\n          this.$router.push({ name: 'Cart' });\n        } else {\n          console.error('장바구니 추가 실패:', response);\n        }\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n      }\n    },\n    async buyNow() {\n      const orderItem = {\n        productId: this.product.productId, // 여기에서 this.product.productId를 사용합니다.\n        productName: this.product.productName,\n        productQuantity: this.quantity,\n        price: this.product.price\n      };\n\n      try {\n        await axios.post('/api/orders/prepare', [orderItem], { withCredentials: true });\n        this.$router.push({ name: 'Order' });\n      } catch (error) {\n        console.error('Error preparing order:', error);\n      }\n    }\n  },\n  created() {\n    this.fetchProductDetails();\n  }\n};\n</script>\n\n<style scoped>\n.product-detail {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.breadcrumb {\n  font-size: 0.9rem;\n  color: #888;\n  margin-bottom: 20px;\n}\n\n.product-main {\n  display: flex;\n  gap: 40px;\n}\n\n.product-image {\n  flex: 1;\n  background-color: #f8f9fa;\n  text-align: center;\n  padding: 40px;\n  border-radius: 8px;\n}\n\n.product-image img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 8px;\n}\n\n.product-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.product-title {\n  font-size: 1.5rem;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.product-price {\n  font-size: 1.2rem;\n  color: #d9534f;\n  margin-bottom: 20px;\n}\n\n.quantity-selector {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin: auto;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  width: 150px;\n}\n\n.quantity-selector button {\n  width: 30px;\n  height: 30px;\n  background-color: #ddd;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n\n/* .btn {\n  width: 120px;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-cart {\n  background-color: #5cb85c;\n  color: white;\n}\n\n.btn-buy {\n  background-color: #5cb85c;\n  color: white;\n} */\n\n.tabs {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 40px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #ccc;\n}\n\n.tabs button {\n  flex: 1;\n  padding: 10px 0;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  cursor: pointer;\n  transition: border-color 0.3s;\n  color: #aaa;\n}\n\n.tabs button.active {\n  border-color: #5cb85c;\n  color: #5cb85c;\n}\n\n.tab-content {\n  background-color: #ffffff;\n  padding: 20px;\n  border-radius: 8px;\n  width: calc(100% + 40px); /* Extend width to cover side padding */\n  margin-left: -20px; /* Offset margin to align with parent container */\n  margin-right: -20px; /* Offset margin to align with parent container */\n}\n\n.review, .inquiry {\n  background-color: #ffffff;\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  border: 1px solid #eee;\n}\n\n.rating, .answered {\n  font-weight: bold;\n  color: #343a40;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}