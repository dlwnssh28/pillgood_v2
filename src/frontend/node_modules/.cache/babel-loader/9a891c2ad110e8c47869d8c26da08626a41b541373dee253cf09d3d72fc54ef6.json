{"ast":null,"code":"import { provide, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport HeaderView from './components/HeaderView.vue';\nimport FooterView from './components/FooterView.vue';\nimport BackToTop from './components/BackToTop.vue';\nimport { mapActions, mapState } from 'vuex';\nexport default {\n  name: 'App',\n  components: {\n    HeaderView,\n    FooterView,\n    BackToTop\n  },\n  setup() {\n    const route = useRoute();\n    const showHeaderAndFooter = ref(true);\n    provide('showHeaderAndFooter', showHeaderAndFooter);\n    const updateHeaderAndFooterVisibility = () => {\n      if (route.path.startsWith('/admin')) {\n        showHeaderAndFooter.value = false;\n      } else {\n        showHeaderAndFooter.value = true;\n      }\n    };\n    watch(route, updateHeaderAndFooterVisibility, {\n      immediate: true\n    });\n    return {\n      showHeaderAndFooter\n    };\n  },\n  computed: {\n    ...mapState('member', {\n      isLoggedIn: state => state.isLoggedIn,\n      memberId: state => state.memberId,\n      member: state => state.member\n    })\n  },\n  methods: {\n    ...mapActions('member', ['checkLoginStatus', 'fetchMemberInfo'])\n  },\n  async created() {\n    try {\n      await this.checkLoginStatus();\n      if (this.isLoggedIn && this.memberId) {\n        await this.fetchMemberInfo(this.memberId);\n      } else {\n        console.log('로그인되지 않았거나 memberId가 없음');\n      }\n    } catch (error) {\n      console.error('checkLoginStatus 에러:', error);\n    }\n\n    // 주기적으로 세션 상태 확인\n    setInterval(async () => {\n      try {\n        await this.checkLoginStatus();\n        if (this.isLoggedIn) {\n          await this.fetchMemberInfo(this.memberId);\n        } else {\n          console.log('로그인된 사용자가 없음');\n        }\n      } catch (error) {\n        console.error('세션 상태 확인 중 에러:', error);\n      }\n    }, 600000); // 10분마다 실행\n  },\n  mounted() {\n    // 카카오 SDK 로드 및 초기화\n    /* global Kakao */ // Kakao를 전역 변수로 선언\n    const kakaoScript = document.createElement('script');\n    kakaoScript.src = 'https://developers.kakao.com/sdk/js/kakao.js';\n    kakaoScript.onload = () => {\n      Kakao.init('03f074279f45f35b6bed2cfbcc42ec4d'); // 카카오 개발자 콘솔에서 발급받은 JavaScript 키\n      console.log('Kakao SDK initialized');\n    };\n    document.head.appendChild(kakaoScript);\n  },\n  watch: {\n    isLoggedIn(newVal) {\n      console.log('A 로그인 상태 변경:', newVal); // 상태 변경 확인\n    }\n  }\n};","map":{"version":3,"names":["provide","ref","watch","useRoute","HeaderView","FooterView","BackToTop","mapActions","mapState","name","components","setup","route","showHeaderAndFooter","updateHeaderAndFooterVisibility","path","startsWith","value","immediate","computed","isLoggedIn","state","memberId","member","methods","created","checkLoginStatus","fetchMemberInfo","console","log","error","setInterval","mounted","kakaoScript","document","createElement","src","onload","Kakao","init","head","appendChild","newVal"],"sources":["C:\\Users\\woori\\IdeaProjects\\pillgood_v2\\src\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <HeaderView v-if=\"showHeaderAndFooter\" />\n    <main>\n      <router-view />\n    </main>\n    <FooterView v-if=\"showHeaderAndFooter\" />\n    <BackToTop />\n  </div>\n</template>\n\n<script>\nimport { provide, ref, watch } from 'vue'\nimport { useRoute } from 'vue-router'\nimport HeaderView from './components/HeaderView.vue';\nimport FooterView from './components/FooterView.vue';\nimport BackToTop from './components/BackToTop.vue';\nimport { mapActions, mapState } from 'vuex';\n\nexport default {\n  name: 'App',\n  components: {\n    HeaderView,\n    FooterView,\n    BackToTop\n  },\n  setup() {\n    const route = useRoute()\n    const showHeaderAndFooter = ref(true)\n\n    provide('showHeaderAndFooter', showHeaderAndFooter)\n\n    const updateHeaderAndFooterVisibility = () => {\n      if (route.path.startsWith('/admin')) {\n        showHeaderAndFooter.value = false\n      } else {\n        showHeaderAndFooter.value = true\n      }\n    }\n\n    watch(route, updateHeaderAndFooterVisibility, { immediate: true })\n\n    return { showHeaderAndFooter }\n  },\n  computed: {\n    ...mapState('member', {\n      isLoggedIn: (state) => state.isLoggedIn,\n      memberId: (state) => state.memberId,\n      member: (state) => state.member,\n    }),\n  },\n  methods: {\n    ...mapActions('member', ['checkLoginStatus', 'fetchMemberInfo']),\n  },\n  async created() {\n    try {\n      await this.checkLoginStatus()\n      if (this.isLoggedIn && this.memberId) {\n        await this.fetchMemberInfo(this.memberId)\n      } else {\n        console.log('로그인되지 않았거나 memberId가 없음')\n      }\n    } catch (error) {\n      console.error('checkLoginStatus 에러:', error)\n    }\n\n    // 주기적으로 세션 상태 확인\n    setInterval(async () => {\n      try {\n        await this.checkLoginStatus()\n        if (this.isLoggedIn) {\n          await this.fetchMemberInfo(this.memberId)\n        } else {\n          console.log('로그인된 사용자가 없음')\n        }\n      } catch (error) {\n        console.error('세션 상태 확인 중 에러:', error)\n      }\n    }, 600000) // 10분마다 실행\n  },\n  mounted() {\n    // 카카오 SDK 로드 및 초기화\n    /* global Kakao */ // Kakao를 전역 변수로 선언\n    const kakaoScript = document.createElement('script')\n    kakaoScript.src = 'https://developers.kakao.com/sdk/js/kakao.js'\n    kakaoScript.onload = () => {\n      Kakao.init('03f074279f45f35b6bed2cfbcc42ec4d') // 카카오 개발자 콘솔에서 발급받은 JavaScript 키\n      console.log('Kakao SDK initialized')\n    }\n    document.head.appendChild(kakaoScript)\n  },\n  watch: {\n    isLoggedIn(newVal) {\n      console.log('A 로그인 상태 변경:', newVal) // 상태 변경 확인\n    },\n  },\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}